/*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************
 * 
 * @author Tadeusz Wlodarkiewicz <<ahref='mailto:t.wlodarkiew@samsung.com'>t.wlodarkiew@samsung.com</a>>
 * 
 * 
 * ********************************************************************************************************
 * 
 * Copyright (c) 2012 Samsung Electronics All Rights Reserved.
 * 
 ******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/


this.addEventListener('message', function(msg) {
	if (msg.data == "STOP"){
		self.postMessage('WORKER STOPPED');
		self.close();
	}
	self.run();
}, false);

function run() {
	setTimeout(goBack, 20000);
}

function goBack() {
	self.postMessage();
	self.run();
}